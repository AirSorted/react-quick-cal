!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("date-fns")):"function"==typeof define&&define.amd?define(["react","prop-types","date-fns"],t):"object"==typeof exports?exports.reactCal=t(require("react"),require("prop-types"),require("date-fns")):e.reactCal=t(e.react,e["prop-types"],e["date-fns"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t){e.exports=n},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)?t.reduce(function(t,n){return n?[].concat(r(t),[e+"--"+n]):t},[e]).join(" "):Object.keys(t).reduce(function(n,a){return t[a]?[].concat(r(n),[e+"--"+a]):n},[e]).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.datesForMonth=void 0,t.bem=a;var o=n(0),l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];t.datesForMonth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sunday",n=l.indexOf(t)||0,a=(0,o.startOfMonth)(e),i=(0,o.subDays)(a,(0,o.getDay)(a)+7-n),c=(0,o.getDate)((0,o.addDays)(i,7));return(1===c||c>7)&&(i=(0,o.addDays)(i,7)),Array.apply(void 0,r(Array(35))).map(function(e,t){return(0,o.addDays)(i,t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),s=n(2),f=r(s),d=n(0),p=n(6),h=r(p),y=n(8),m=r(y),v=n(3);n(10);var _=function(e){function t(){var e,n,r,l;a(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={month:r.props.startMonth,localSelectionRange:null},r.onKeyDown=function(e){27===e.which&&r.onSelection(null)},r.onSelection=function(e){r.setState({localSelectionRange:e}),r.props.onSelection(e||null)},r.setMonth=function(e){if(r.setState({month:e}),r.props.onDateRangeChange){var t=(0,v.datesForMonth)(e,r.props.startOfWeek);r.props.onDateRangeChange([t[0],t[t.length-1]])}},l=n,o(r,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.setMonth(this.props.startMonth),window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderDate,r=t.startOfWeek,a=t.unselectSafeElement,o=t.clearSelectionOnExternalClick,l=t.events,i=this.state,c=i.month,s=i.localSelectionRange,f=this.props.selectionRange,d=void 0===f?s:f;return u.default.createElement("div",{className:"ReactCalendar"},u.default.createElement(h.default,{month:c,setMonth:this.setMonth,selectionRange:d,onClearSelection:function(){return e.onSelection(null)}}),u.default.createElement(m.default,{month:c,renderDate:n,selectionRange:d,onSelection:this.onSelection,unselectSafeElement:a,clearSelectionOnExternalClick:o,startOfWeek:r,events:l}))}}]),t}(c.Component);_.propTypes={startMonth:f.default.instanceOf(Date),onDateRangeChange:f.default.func,renderDate:f.default.func,onSelection:f.default.func,startOfWeek:f.default.string,unselectSafeElement:f.default.element,clearSelectionOnExternalClick:f.default.bool,events:y.EventsPropType,selectionRange:f.default.arrayOf(f.default.instanceOf(Date))},_.defaultProps={startMonth:(0,d.startOfMonth)(Date.now()),onDateRangeChange:null,renderDate:function(){return null},onSelection:function(){return null},startOfWeek:"monday",unselectSafeElement:null,clearSelectionOnExternalClick:!1,events:[],selectionRange:void 0},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),f=n(2),d=r(f),p=n(0);n(7);var h=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.onMonthChange=function(e){r.props.setMonth((0,p.parse)(e.target.value,"YYYY-MM-DD"))},r.previousMonth=function(){r.props.setMonth((0,p.subMonths)(r.props.month,1))},r.nextMonth=function(){r.props.setMonth((0,p.addMonths)(r.props.month,1))},a=n,l(r,a)}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.month,n=e.selectionRange,r=e.onClearSelection,o=Array.apply(void 0,a(Array(24))).map(function(e,n){return(0,p.addMonths)(t,n-12)});return s.default.createElement("div",{className:"ReactCalendarHeader"},s.default.createElement("div",{className:"ReactCalendarHeader__left"},s.default.createElement("div",{className:"ReactCalendarHeader__directions"},s.default.createElement("button",{onClick:this.previousMonth,className:"ReactCalendarHeader__directionbtn"}),s.default.createElement("button",{onClick:this.nextMonth,className:"ReactCalendarHeader__directionbtn"})),n?s.default.createElement("div",{className:"ReactCalendarHeader__clear"},s.default.createElement("button",{onClick:r},"Clear Selection")):null),s.default.createElement("select",{value:(0,p.format)(t,"YYYY-MM-DD"),className:"ReactCalendarHeader__monthpicker",onChange:this.onMonthChange},o.map(function(e){return s.default.createElement("option",{value:(0,p.format)(e,"YYYY-MM-DD")},(0,p.format)(e,"MMMM YYYY"))})))}}]),t}(u.Component);h.propTypes={setMonth:d.default.func.isRequired,month:d.default.instanceOf(Date).isRequired,selectionRange:d.default.arrayOf(d.default.instanceOf(Date)),onClearSelection:d.default.func},h.defaultProps={selectionRange:null,onClearSelection:function(){return null}},t.default=h},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EventsPropType=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),s=n(2),f=r(s),d=n(0),p=n(3);n(9);var h=t.EventsPropType=f.default.arrayOf(f.default.shape({id:f.default.instanceOf(Date),start:f.default.instanceOf(Date),end:f.default.instanceOf(Date)})),y=function(e){function t(){var e,n,r,l;a(this,t);for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={selectionStart:null},r.onSelectStart=function(e){r.setState({selectionStart:e}),r.props.onSelection([e,e])},r.onSelectMove=function(e){var t=r.state.selectionStart,n=r.props,a=n.selectionRange,o=n.onSelection;if(t)return(0,d.isEqual)(e,t)?void o([e,e]):(0,d.isBefore)(e,t)&&a[0]!==e?void o([e,t]):void((0,d.isAfter)(e,t)&&a[1]!==e&&o([t,e]))},r.onSelectEnd=function(){r.setState({selectionStart:null}),r.props.selectionRange&&r.props.onSelection(r.props.selectionRange)},r.onSafeAreaClick=function(e){console.log("Safe click"),e.stopPropagation(),e.preventDefault()},r.onWindowClick=function(){r.props.clearSelectionOnExternalClick&&r.props.onSelection(null)},r.renderEvent=function(e,t){var n=t[0],r=t[t.length-1],a=Math.max(0,(0,d.differenceInDays)(e.start,n)),o=(0,d.differenceInDays)(e.end,e.start)+1;return u.default.createElement("div",{className:(0,p.bem)("ReactCalendarEvents__event",{start:(0,d.isBefore)(n,e.start),end:(0,d.isBefore)(e.end,r)}),key:e.key,style:{"margin-left":100*a/7+"%",width:o>7-a?100*(7-a)/7+"%":100*o/7+"%"}},e.description)},l=n,o(r,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onWindowClick)}},{key:"componentWillReceiveProps",value:function(e){e.selectionRange||this.setState({selectionStart:null}),e.unselectSafeElement!==this.props.unselectSafeElement&&e.unselectSafeElement.addEventListener("click",this.onSafeAreaClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onWindowClick)}},{key:"renderEvents",value:function(e){var t=this,n=this.props.events.filter(function(t){return(0,d.areRangesOverlapping)(t.start,t.end,e[0],e[e.length-1])});return u.default.createElement("div",{className:"ReactCalendarEvents"},n.map(function(n){return t.renderEvent(n,e)}))}},{key:"renderDate",value:function(e){var t=this,n=this.props,r=n.month,a=n.selectionRange,o=n.renderDate,l=!!a&&(0,d.isWithinRange)(e,a[0],a[1]);return u.default.createElement("li",{key:(0,d.format)(e,"YYYY-MM-DD"),onMouseDown:function(n){return t.onSelectStart(e,n)},onMouseOver:function(n){return t.onSelectMove(e,n)},onMouseUp:function(n){return t.onSelectEnd(e,n)},className:(0,p.bem)("ReactCalendarTiles__tile",{offmonth:(0,d.getMonth)(e)!==(0,d.getMonth)(r),selected:l,faded:!!a&&!l})},u.default.createElement("span",{className:"ReactCalendarTiles__tile__number"},1===(0,d.getDate)(e)?(0,d.format)(e,"MMM D"):(0,d.format)(e,"D")),o(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.month,r=t.startOfWeek,a=t.selectionRange,o=(0,p.datesForMonth)(n,r);return u.default.createElement("div",{className:(0,p.bem)("ReactCalendarTiles",{isSelecting:!!a}),onClick:this.onSafeAreaClick},u.default.createElement("ul",{className:"ReactCalendarTiles__days"},o.slice(0,7).map(function(e){return u.default.createElement("li",{key:e},(0,d.format)(e,"ddd"))})),u.default.createElement("ul",{className:"ReactCalendarTiles__tiles"},u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(0,7).map(function(t){return e.renderDate(t)}),this.renderEvents(o.slice(0,7))),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(7,14).map(function(t){return e.renderDate(t)}),this.renderEvents(o.slice(7,14))),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(14,21).map(function(t){return e.renderDate(t)}),this.renderEvents(o.slice(14,21))),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(21,28).map(function(t){return e.renderDate(t)}),this.renderEvents(o.slice(21,28))),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(28,35).map(function(t){return e.renderDate(t)}),this.renderEvents(o.slice(28,35)))))}}]),t}(c.Component);y.propTypes={month:f.default.instanceOf(Date).isRequired,startOfWeek:f.default.string,renderDate:f.default.func.isRequired,onSelection:f.default.func.isRequired,selectionRange:f.default.arrayOf(f.default.instanceOf(Date)),unselectSafeElement:f.default.element,clearSelectionOnExternalClick:f.default.bool,events:h.isRequired,renderEvent:f.default.func},y.defaultProps={startOfWeek:"monday",selectionRange:null,unselectSafeElement:null,clearSelectionOnExternalClick:!1,renderEvent:void 0},t.default=y},function(e,t){},function(e,t){}])});