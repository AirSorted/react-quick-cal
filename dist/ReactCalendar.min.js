!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("date-fns")):"function"==typeof define&&define.amd?define(["react","prop-types","date-fns"],t):"object"==typeof exports?exports.reactCal=t(require("react"),require("prop-types"),require("date-fns")):e.reactCal=t(e.react,e["prop-types"],e["date-fns"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t){e.exports=n},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)?t.reduce(function(t,n){return n?[].concat(r(t),[e+"--"+n]):t},[e]).join(" "):Object.keys(t).reduce(function(n,o){return t[o]?[].concat(r(n),[e+"--"+o]):n},[e]).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.datesForMonth=void 0,t.bem=o;var a=n(0),l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];t.datesForMonth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sunday",n=l.indexOf(t)||0,o=(0,a.startOfMonth)(e),i=(0,a.subDays)(o,(0,a.getDay)(o)+7-n),c=(0,a.getDate)((0,a.addDays)(i,7));return(1===c||c>7)&&(i=(0,a.addDays)(i,7)),Array.apply(void 0,r(Array(35))).map(function(e,t){return(0,a.addDays)(i,t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),f=n(2),d=r(f),p=n(0),h=n(6),y=r(h),m=n(8),v=r(m),_=n(3);n(10);var b=function(e){function t(){var e,n,r,i;a(this,t);for(var c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={month:r.props.startMonth,selectionRange:null},r.onKeyDown=function(e){27===e.which&&r.state.selectionRange&&r.onSelection(null)},r.onSelection=function(e){if(r.setState({selectionRange:e}),e){var t;(t=r.props).onSelection.apply(t,o(e))}else r.props.onSelection(null)},r.setMonth=function(e){if(r.setState({month:e}),r.props.onDateRangeChange){var t=(0,_.datesForMonth)(e,r.props.startOfWeek);r.props.onDateRangeChange(t[0],t[t.length-1])}},i=n,l(r,i)}return i(t,e),c(t,[{key:"componentDidMount",value:function(){this.setMonth(this.props.startMonth),window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderDate,r=t.startOfWeek,o=t.unselectSafeElement,a=t.clearSelectionOnExternalClick,l=this.state,i=l.month,c=l.selectionRange;return s.default.createElement("div",{className:"ReactCalendar"},s.default.createElement(y.default,{month:i,setMonth:this.setMonth,selectionRange:c,onClearSelection:function(){return e.onSelection(null)}}),s.default.createElement(v.default,{month:i,renderDate:n,selectionRange:c,onSelection:this.onSelection,unselectSafeElement:o,clearSelectionOnExternalClick:a,startOfWeek:r}))}}]),t}(u.Component);b.propTypes={startMonth:d.default.instanceOf(Date),onDateRangeChange:d.default.func,renderDate:d.default.func,onSelection:d.default.func,startOfWeek:d.default.string,unselectSafeElement:d.default.element,clearSelectionOnExternalClick:d.default.bool},b.defaultProps={startMonth:(0,p.startOfMonth)(Date.now()),onDateRangeChange:null,renderDate:function(){return null},onSelection:function(){return null},startOfWeek:"monday",unselectSafeElement:null,clearSelectionOnExternalClick:!1},t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),f=n(2),d=r(f),p=n(0);n(7);var h=function(e){function t(){var e,n,r,o;a(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.onMonthChange=function(e){r.props.setMonth((0,p.parse)(e.target.value,"YYYY-MM-DD"))},r.previousMonth=function(){r.props.setMonth((0,p.subMonths)(r.props.month,1))},r.nextMonth=function(){r.props.setMonth((0,p.addMonths)(r.props.month,1))},o=n,l(r,o)}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.month,n=e.selectionRange,r=e.onClearSelection,a=Array.apply(void 0,o(Array(24))).map(function(e,n){return(0,p.addMonths)(t,n-12)});return s.default.createElement("div",{className:"ReactCalendarHeader"},s.default.createElement("div",{className:"ReactCalendarHeader__left"},s.default.createElement("div",{className:"ReactCalendarHeader__directions"},s.default.createElement("button",{onClick:this.previousMonth,className:"ReactCalendarHeader__directionbtn"}),s.default.createElement("button",{onClick:this.nextMonth,className:"ReactCalendarHeader__directionbtn"})),n?s.default.createElement("div",{className:"ReactCalendarHeader__clear"},s.default.createElement("button",{onClick:r},"Clear Selection")):null),s.default.createElement("select",{value:(0,p.format)(t,"YYYY-MM-DD"),className:"ReactCalendarHeader__monthpicker",onChange:this.onMonthChange},a.map(function(e){return s.default.createElement("option",{value:(0,p.format)(e,"YYYY-MM-DD")},(0,p.format)(e,"MMMM YYYY"))})))}}]),t}(u.Component);h.propTypes={setMonth:d.default.func.isRequired,month:d.default.instanceOf(Date).isRequired,selectionRange:d.default.arrayOf(d.default.instanceOf(Date)),onClearSelection:d.default.func},h.defaultProps={selectionRange:null,onClearSelection:function(){return null}},t.default=h},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),s=n(2),f=r(s),d=n(0),p=n(3);n(9);var h=function(e){function t(){var e,n,r,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={selectionStart:null},r.onSelectStart=function(e){r.setState({selectionStart:e}),r.props.onSelection([e,e])},r.onSelectMove=function(e){var t=r.state.selectionStart,n=r.props,o=n.selectionRange,a=n.onSelection;if(t)return(0,d.isEqual)(e,t)?void a([e,e]):(0,d.isBefore)(e,t)&&o[0]!==e?void a([e,t]):void((0,d.isAfter)(e,t)&&o[1]!==e&&a([t,e]))},r.onSelectEnd=function(){r.setState({selectionStart:null}),r.props.selectionRange&&r.props.onSelection(r.props.selectionRange)},r.onSafeAreaClick=function(e){console.log("Safe click"),e.stopPropagation(),e.preventDefault()},r.onWindowClick=function(){r.props.clearSelectionOnExternalClick&&r.props.onSelection(null)},l=n,a(r,l)}return l(t,e),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onWindowClick)}},{key:"componentWillReceiveProps",value:function(e){e.selectionRange||this.setState({selectionStart:null}),e.unselectSafeElement!==this.props.unselectSafeElement&&e.unselectSafeElement.addEventListener("click",this.onSafeAreaClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onWindowClick)}},{key:"renderDate",value:function(e){var t=this,n=this.props,r=n.month,o=n.selectionRange,a=!!o&&(0,d.isWithinRange)(e,o[0],o[1]);return u.default.createElement("li",{key:(0,d.format)(e,"YYYY-MM-DD"),onMouseDown:function(n){return t.onSelectStart(e,n)},onMouseOver:function(n){return t.onSelectMove(e,n)},onMouseUp:function(n){return t.onSelectEnd(e,n)},className:(0,p.bem)("ReactCalendarTiles__tile",{offmonth:(0,d.getMonth)(e)!==(0,d.getMonth)(r),selected:a,faded:!!o&&!a})},u.default.createElement("span",{className:"ReactCalendarTiles__tile__number"},1===(0,d.getDate)(e)?(0,d.format)(e,"MMM D"):(0,d.format)(e,"D")),this.props.renderDate(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.month,r=t.startOfWeek,o=(0,p.datesForMonth)(n,r);return u.default.createElement("div",{className:"ReactCalendarTiles",onClick:this.onSafeAreaClick},u.default.createElement("ul",{className:"ReactCalendarTiles__days"},o.slice(0,7).map(function(e){return u.default.createElement("li",{key:e},(0,d.format)(e,"ddd"))})),u.default.createElement("ul",{className:"ReactCalendarTiles__tiles"},u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(0,7).map(function(t){return e.renderDate(t)})),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(7,14).map(function(t){return e.renderDate(t)})),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(14,21).map(function(t){return e.renderDate(t)})),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(21,28).map(function(t){return e.renderDate(t)})),u.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},o.slice(28,35).map(function(t){return e.renderDate(t)}))))}}]),t}(c.Component);h.propTypes={month:f.default.instanceOf(Date).isRequired,startOfWeek:f.default.string,renderDate:f.default.func.isRequired,onSelection:f.default.func.isRequired,selectionRange:f.default.arrayOf(f.default.instanceOf(Date)),unselectSafeElement:f.default.element,clearSelectionOnExternalClick:f.default.bool},h.defaultProps={startOfWeek:"monday",selectionRange:null,unselectSafeElement:null,clearSelectionOnExternalClick:!1},t.default=h},function(e,t){},function(e,t){}])});